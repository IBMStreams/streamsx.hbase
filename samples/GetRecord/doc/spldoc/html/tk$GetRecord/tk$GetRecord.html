<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en-us" lang="en-us">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2005"/>
<meta name="DC.rights.owner" content="(C) Copyright 2005"/>
<meta name="DC.Type" content="reference"/>
<meta name="DC.Title" content="Toolkit GetRecord 1.0.1"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="spldoc_toolkit"/>
<link rel="stylesheet" type="text/css" href="../../html/commonltr.css"/>
<link rel="stylesheet" type="text/css" href="../../html/spldoc.css"/>
<title>Toolkit GetRecord 1.0.1</title>
</head>
<body id="spldoc_toolkit">


<h1 class="title topictitle1 spltoolkitname">Toolkit <tt class="ph tt">GetRecord 1.0.1</tt></h1>

<div class="body refbody">
<div class="section">
<p class="p">
<a class="xref" href="../toolkits/toolkits.html">Toolkits</a> &gt; GetRecord 1.0.1</p>

</div>

<div class="section"><h2 class="title sectiontitle splhead-1">General Information</h2>


<p class="p">The sample <strong class="ph b">GetRecord</strong> demonstrate how to populate a tuple using <strong class="ph b">HBASEGet</strong>.
</p>

<p class="p">It demonstrates how HBASEGet can be used with a tuple value type to populate a streams tuple.
</p>

<p class="p">We have two <strong class="ph b">HBASEGet</strong>, below: 
</p>

<p class="p">The first works fine, populating the book tuple based on what's in HBASE.  
</p>

<p class="p">See the enriched stream, and the books.out file after running. 
</p>

<p class="p">In the second case, we again attempt to populate the tuple based on what's in HBASE, except that this time, the output type has the "fiction" attribute, and there is no corresponding column qualifier, so all the fiction attributes are empty.
</p>

<p class="p">In this case, we made use of the <strong class="ph b">outputCountAttr</strong>, so it's possible to check notice that only four attributes of the five were populated.  
</p>

<p class="p">Also, for the case of Dracula, numResults is zero because we not able to populate title, author_fname, author_lname, year, or fiction. 
</p>

<div class="p">
<pre class="pre codeblock">
namespace com.ibm.streamsx.hbase.sample ;

use com.ibm.streamsx.hbase::HBASEGet ;

 
composite GetRecord
{
    param
        expression $keyList : [ "War and Peace:1869", "Jane Eyre:1847", "Twilight:2005", "Dracula:1897" ] ;
    graph
        stream&lt;rstring key&gt; keyStream = Beacon()
        {
            param
                iterations : size($keyList) ;
            output
                keyStream : key = $keyList [ IterationCount() ] ;
        }

        stream&lt;rstring key, GetBookType value&gt; enriched = HBASEGet(keyStream)
        {
            param
                rowAttrName : "key" ;
                tableName : "streamsSample_books" ;
                staticColumnFamily : "all" ;
                outAttrName : "value" ;
        }

        () as BookSink = FileSink(enriched)
        {
            param
                file : "books.out" ;
        }

        stream&lt;rstring key, GetBookPlusType value, int32 numResults&gt; missingFiction = HBASEGet(keyStream)
        {
            param
                rowAttrName : "key" ;
                tableName : "streamsSample_books" ;
                staticColumnFamily : "all" ;
                outputCountAttr : "numResults" ;
                outAttrName : "value" ;
        }

        () as BookPlusSink = FileSink(missingFiction)
        {
            param
                file : "bookPlusType.out" ;
        }

}
</pre>


</div>

<dl class="dl">
  
  <dt class="dt dlterm">Version</dt>

  <dd class="dd">1.0.1</dd>

  
  
  <dt class="dt dlterm">Required Product Version</dt>

  <dd class="dd">4.0.0.0</dd>

  
  
  <dt class="dt dlterm">Required Toolkits and Versions</dt>

  <dd class="dd"><ul class="sl simple">
    <li class="sli">com.ibm.streamsx.hbase (2.0.0)</li>

  </ul>
</dd>

  
  
  <dt class="dt dlterm">Author</dt>

  <dd class="dd">IBMStreams Open Source Community at GitHub - https://github.com/IBMStreams/streamsx.hbase</dd>

  
</dl>

</div>

<div class="section"><h2 class="title sectiontitle splhead-1">Indexes</h2>
  
  <dl class="dl">
    <dt class="dt dlterm"/>
<dd class="dd"/>

    <dt class="dt dlterm"><a class="xref" href="ix$Namespace.html">Namespaces</a></dt>
<dd class="dd"/>

    <dt class="dt dlterm"><a class="xref" href="ix$Type.html">Types</a></dt>
<dd class="dd"/>

  </dl>

</div>

<div class="section"><h2 class="title sectiontitle splhead-1">Namespaces</h2>
  
  <dl class="dl">
    
      <dt class="dt dlterm splpart"><a class="xref" href="ns$com.ibm.streamsx.hbase.sample.html">com.ibm.streamsx.hbase.sample</a></dt>

      <dd class="dd"/>

      <dd class="dd"><dl class="dl">
        <dt class="dt dlterm">Types</dt>

        <dd class="dd">
<ul class="sl simple">
<li class="sli"><a class="xref" href="spl$com.ibm.streamsx.hbase.sample$GetRecord.html#spldoc_compilationunit__type__GetBookPlusType">GetBookPlusType</a></li>

<li class="sli"><a class="xref" href="spl$com.ibm.streamsx.hbase.sample$GetRecord.html#spldoc_compilationunit__type__GetBookType">GetBookType</a></li>

</ul>

        </dd>

      </dl>
</dd>

       </dl>

</div>

</div>


</body>
</html>