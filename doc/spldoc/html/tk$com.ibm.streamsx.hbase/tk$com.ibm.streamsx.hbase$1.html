<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en-us" lang="en-us">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2005"/>
<meta name="DC.rights.owner" content="(C) Copyright 2005"/>
<meta name="DC.Type" content="reference"/>
<meta name="DC.Title" content="Developing and running applications that use the HBase Toolkit"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="spldoc_page"/>
<link rel="stylesheet" type="text/css" href="../../html/commonltr.css"/>
<link rel="stylesheet" type="text/css" href="../../html/spldoc.css"/>
<title>Developing and running applications that use the HBase Toolkit</title>
</head>
<body id="spldoc_page">


<h1 class="title topictitle1">Developing and running applications that use the HBase Toolkit</h1>

<div class="body refbody">
<div class="section">
<p class="p">
<a class="xref" href="../toolkits/toolkits.html">IBMStreams com.ibm.streamsx.hbase Toolkit</a> &gt; <a class="xref" href="tk$com.ibm.streamsx.hbase.html">com.ibm.streamsx.hbase 3.4.0</a> &gt; Developing and running applications that use the HBase Toolkit</p>

</div>


<div class="section">
<p class="p">To create applications that use the HBase Toolkit, you must configure either Streams Studio or the SPL compiler to be aware of the location of the toolkit. 
</p>

</div>

<div class="section"><h2 class="title sectiontitle">Before you begin
</h2>

<div class="p">
<ul class="ul">
<li class="li"> Install the Apache Ambari on you Hadoop server. https://ambari.apache.org/   Configure the product environment via ambari and    install Apache Hadoop (<a class="xref" href="http://hadoop.apache.org/">http://hadoop.apache.org/</a>)   Install Apache HBase (<a class="xref" href="http://hbase.apache.org/">http://hbase.apache.org/</a>),    and Apache Zookeeper (<a class="xref" href="http://zookeeper.apache.org/">http://zookeeper.apache.org/</a>).    All of these products can be configured via ambari.</li>

<li class="li">
<p class="p"> The com.ibm.streamsx.hbase toolkit can also access to the:   <strong class="ph b">IBM Biginsighs</strong> https://www.ibm.com/support/knowledgecenter/en/SSPT3X_4.2.0/com.ibm.swg.im.infosphere.biginsights.welcome.doc/doc/welcome.html   <strong class="ph b">Hortonworks</strong> data platform https://hortonworks.com/products/data-platforms/hdp/
</p>
</li>

</ul>

</div>

</div>

<div class="section"><h2 class="title sectiontitle">About this task
</h2>

<p class="p">After the location of the toolkit is communicated to the compiler, the SPL artifacts that are specified in the toolkit can be used by an application. The application can include a use directive to bring the necessary namespaces into scope. Alternatively, you can fully qualify the operators that are provided by toolkit with their namespaces as prefixes.
</p>

</div>

<div class="section"><h2 class="title sectiontitle">Procedure
</h2>

<div class="p">
<ol class="ol">
<li class="li"> For Apache HBase, you must configure your compile and runtime environment by setting the <strong class="ph b">HBASE_HOME</strong> environment variable:
<ul class="ul">
<li class="li"> If your Streams application will be running on the same resource where HBase is installed, set <strong class="ph b">HBASE_HOME</strong> to the directory that contains HBase.</li>

<li class="li"> Otherwise, copy the <strong class="ph b">/hbase-install-dir/lib</strong> directory to the file system where Streams will be running, making sure to follow symbolic links:
<pre class="pre codeblock">
  cp -Lr path-to-hbase/lib /path-on-streams-host
</pre>

</li>

<li class="li"> Set <strong class="ph b">HBASE_HOME</strong> to the directory you created, for example, to <strong class="ph b">path-on-streams-host</strong>.</li>

</ul>
</li>

<li class="li">
<div class="p"> Supply the operator with HBase configuration information. By default, <strong class="ph b">HBASE_HOME</strong>/<strong class="ph b">conf</strong> is searched for the <strong class="ph b">hbase-site.xml</strong>.  If Streams will not be running on the same resource as the HBase installation, you can do one of the following: 
<ul class="ul">
<li class="li"> Create a <strong class="ph b">conf</strong> directory in the same directory you created in step 1 and copy the <strong class="ph b">hbase-site.xml</strong> from your HBase installation to that directory.</li>

<li class="li"> Copy the <strong class="ph b">hbase-site.xml</strong> file from the <strong class="ph b">conf</strong> directory in your HBase installation into a directory accessible by your application and use the <strong class="ph b">hbaseSite</strong> parameter to specify the path to the copied file.</li>

</ul>

</div>
</li>

<li class="li">
<div class="p"> Configure the SPL compiler to find the toolkit root directory. Use one of the following methods:
<ul class="ul">
<li class="li"> Set the <strong class="ph b">STREAMS_SPLPATH</strong> environment variable to the root directory of a toolkit     or multiple toolkits (with : as a separator).  For example:
<pre class="pre codeblock">
export STREAMS_SPLPATH=$STREAMS_INSTALL/toolkits/com.ibm.streamsx.hbase
</pre>

</li>

<li class="li"> Specify the <strong class="ph b">-t</strong> or <strong class="ph b">--spl-path</strong> command parameter when you run the <strong class="ph b">sc</strong> command. For example:
<pre class="pre codeblock">
sc -t $STREAMS_INSTALL/toolkits/com.ibm.streamsx.hbase -M MyMain
</pre>

    where MyMain is the name of the SPL main composite.     <strong class="ph b">Note</strong>: These command parameters override the <strong class="ph b">STREAMS_SPLPATH</strong> environment variable.</li>

<li class="li"> Add the toolkit location in IBM Streams Studio.</li>

</ul>

</div>
</li>

<li class="li">
<div class="p"> Develop your application. To avoid the need to fully qualify the operators, add a use directive in your application. 
<ul class="ul">
<li class="li"> For example, you can add the following clause in your SPL source file:
<pre class="pre codeblock">
use com.ibm.streamsx.hbase::*;
</pre>

     You can also specify a use clause for individual operators by replacing the asterisk (*) with the operator name. For example: 
<pre class="pre codeblock">
use com.ibm.streamsx.hbase::HBASEDelete;
</pre>

</li>

</ul>

</div>
</li>

<li class="li">
<p class="p"> Build your application.  You can use the <strong class="ph b">sc</strong> command or Streams Studio.  
</p>
</li>

<li class="li">
<p class="p"> Start the IBM Streams instance. Remember to set <strong class="ph b">HBASE_HOME</strong> and <strong class="ph b">HADOOP_HOME</strong>    This can be done using the Streams Console or the <strong class="ph b">streamtool</strong> utility.    The streamsx.hbase toolkit from version 3.1.0 delivers all needed apache clint jar libaries.     If you use the <strong class="ph b">hbaseSite</strong> parameter to specify the hbase-site.xml file, it is not necessary to set the <strong class="ph b">HBASE_HOME</strong> and <strong class="ph b">HADOOP_HOME</strong> environment variables.    
</p>
</li>

<li class="li">
<p class="p"> Run the application. You can submit the application as a job by using the <strong class="ph b">streamtool submitjob</strong> command or by using Streams Studio. 
</p>
</li>

</ol>

</div>

</div>

</div>


</body>
</html>